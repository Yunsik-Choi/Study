## DDD란?

DDD는 기본적으로 도메인에 관련된 문제를 해결하는 것에 포커스가 맞춰져 있다.

DDD는 복잡한 소프트웨어를 만들때 이렇게 생각하고 이런 우선순위로 가면 조금 더 쉽게 만들 수 있어요 즉 경험상 유용했던 패턴을 모아놓은 것이다.

DDD는 방법론이나 프레임워크나 아키텍처가 아니다.

## 객체지향과 DDD

객체지향은 작은 단위의 소프트웨어를 만드는 방법이다.

객체지향은 어떤 요구사항이 있을 때 유지보수 편하고 유연하게 코드를 짜려면 이렇게 짜야 돼요 또는 작은 단위의 기능들을 이렇게 코드를 잘 분해하면 변경하기 좋더라이다.

DDD는 큰 복잡한 소프트웨어를 만들 때는 이렇게 생각하고 이런 관점에서 바라보면 코드를 만들기 좋아요 라는 관점이다.

객체지향과 DDD에는 교집합이 있다.

DDD는 우리가 생각하는 아키텍처나 프레임웍이 아니라 사고방식의 우선순위다.

## 도메인 모델

도메인과 모델을 끊어서 이해하면 좋다.

### 도메인

항상 개발을 할 때는 요구사항이라는 게 있다.

우리는 사용자의 불편함을 해결하기 위해 코드를 작성하는데 요구사항 중 코드로 가져온 영역을 도메인이라고 한다.

### 모델

현실의 모든 문제들을 다 소프트웨어로 구현할 수는 없다.

그래서 우리는 현실의 문제 영역 중 그 문제를 해결하는 데 관련된 것만 빼고 나머지는 다 빼버린다.

이것을 모델이라고 한다.

모델이라고 하는 이유는 현실을 반영하지는 않는다.

현실을 심플하게 만들고 다른 사람이 봤을때 공감대가 형성이 된다면 이것이 모델이다.

다양성, 가능성, 변수가 있는 영역을 심플하게 만들어서 맥락 안에서 얘기를 나누거나 구현을 하자고 동의하면 이것이 모델이다.

### 도메인 모델

도메인 모델은 우리가 문제를 해결하려고 하는 범위를 정의해 문제를 해결할 거야.

근데 이걸 해결하려고 봤더니 너무 복잡하니까 같이 일하는 사람들이 문제를 이해할 수 있게 최대한 단순화시키자라고 하는 게 도메인 모델이다.

도메인 모델의 목적은 결과물이나 산출물이 아니라 사람들이 문제를 같은 시각으로 바라보게 만드는 것이다.

## 도메인이 중요한 이유

우리의 도메인을 명확히 정의하면 도메인 외의 관련없는 건 고민할 필요가 없다.

도메인 영역 밖의 영역을 넘어서 고민하면 이상한 솔루션이 나올 확률이 높다.

도메인 범위 안에서 분석하고 설계하면 최적화된 솔루션이 나온다.

## 동작하는 도메인 모델

DDD에서는 일단 도메인 모델을 만드려고 한다.

도메인 모델을 만들어 도메인을 바라보는 시각을 맞추고 이 도메인 모델을 기반으로 설계가 나오고 설계를 가지고 그대로 코드로 연결을 한다.
이게 도메인 모델과 설계와 코드의 모습을 일치시키는 것이다.

DDD는 분석과 설계와 구현은 같은 거라고 얘기한다.
도메인 모델을 만든 후 그 다음 설계하고 그 다음 구현하는 순서가 아니다.
도메인 모델과 설계와 코드는 같아야 된다.

따라서 동작하는 도메인 모델은 도메인 모델과 설계와 구현을 일치시키면 도메인 모델은 즉 설계이고 구현이기 때문에 동작하게 된다.

## 모델 주도 설계

DDD의 기본 철학은 도메인 모델과 코드는 같고 그러니 내가 코드를 고치는 건 도메인 모델을 고치는 거고 도메인 모델을 고치면 그게 코드에 반영이 돼야 한다.
이것이 모델 주도 설계이다.

## 지식 탐구를 통한 도메인에 맞는 코드

객체지향, DDD 이런 얘기가 나오는 이유는 코드를 잘 짜고 싶어서 보다는 코드를 잘 유지보수하고 싶어서 이다.

코드가 변경이 될 때 쉽고 사이드 이펙트 없이 잘 변경할 것에 대한 얘기이다.

코드는 요구사항이 바뀌기 때문에 변경이 된다. 
요구사항이 바뀌는 것은 도메인이 바뀐 것이다.

DDD의 기본 철학은 도메인에 맞춰서 코드를 짜면 요구사항이 바뀌었을 유지보수성이 더 좋다는 것이다.

그러니 코드를 유지보수하기 쉽도록 도메인을 분석해야 한다.

개발자는 문제를 해결하려는 영역의 전문가가 아니다.

그러니 내가 도메인에 맞춰서 코드를 짜려면 도메인 전문가의 도움을 받아 협업해야 한다.

이를 지식 탐구라 한다.

## 유비쿼터스 랭귀지

개발자에게 요구사항을 주는 사람을 도메인 전문가라 한다.

도메인 전문가가 주는 인풋이 매우 중요하다.

도메인 전문가가 생각하는 비즈니스가 결국에는 코드의 변경이다.

그렇기 때문에 도메인 전문가와 개발자가 협업해서 도메인 모델을 만들어야 한다.

그러니 도메인 전문가와 대화를 잘하기 위해 개발자들만 이해할 수 있는 언어를 사용하지 말고 도메인 전문가랑 개발자들이 같이 이해할 수 있는 언어를 쓰는 것이 유비쿼터스 랭귀지이다.

유비쿼터스 랭귀지는 개발자와 도메인 전문가가 같이 모여서 도메인을 분석하면서 산출물을 만들어야 한다.

그러다 보니 개발자도 도메인 전문가도 이해할 수 있는 용어를 만들어서 커뮤니케이션을 했을때 쓰세요가 유비쿼터스 랭귀지의 본질이다.

## 유비쿼터스 랭귀지의 장점

도메인을 분석 후 만들어진 도메인 모델에 유비쿼터스 랭귀지를 쓰면 좋은 점은 도메인 모델은 코드이기 때문에 도메인 전문가가 어떤 용어를 썼을 때 그 용어로 코드를 만들었으면 그 코드를 찾아가서 고치면 된다. 나중에 어디를 변경해야 되는지 쉽게 찾을 수 있다.













