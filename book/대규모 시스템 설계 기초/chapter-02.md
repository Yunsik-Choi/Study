# 개략적인 규모 추정
개략적인 규모 추정을 효과적으로 해 내려면 규모 확장성을 표현하는 데 필요한 기본기에 능숙해야 한다.

특히 2 제곱수나 응답지연 값, 그리고 가용성에 관계된 수치들을 잘 이해하고 있어야 한다.

### 데이터 볼륨 단위
![img.png](./assets/02_volume.png)

### 응답지연 값
![img_1.png](./assets/02_latency.png)

- 메모리는 빠르지만 디스크는 느리다.


- 디스크 탐색은 가능한 한 피하라


- 단순한 압축 알고리즘은 빠르다.


- 데이터를 인터넷으로 전송하기 전에 가능하면 압축하라


- 데이터 센터는 보통 여러 지역에 분산되어 있고 센터들 간에 데이터를 주고받는 데는 시간이 걸린다.

# 가용성에 관계된 수치들
고가용성이란 오랜 시간 동안 지속적으로 중단 없이 운영될 수 있는 능력을 지칭하는 용어다.

고가용성을 표현하는 값은 퍼센트로 표현한다.

SLA (Service Level Agreement) 는 서비스 사업자와 고객 사이에 맺어진 합의를 의미한다.

구글, MS 같은 사업자는 99% 이상의 SLA를 제공한다.

가용시간은 관습적으로 숫자 9를 사용해 표시한다.

![img_2.png](./assets/02_availability.png)

## 트위터 QPS와 저장소 요구량 추정

### 가정
- 월간 MAU는 3억명


- 50% 사용자가 매일 사용


- 평균적으로 각 사용자는 매일 2건의 트윗을 올린다.


- 미디어를 포함하는 트윗은 10%


- 데이터는 5년간 보관한다.

### 추정
QPS(Query Per Second) 추정치
- 일간 능동 사용자 DAU 는 3억에 x 50% = 1.5억


- QPS = 1.5억 x 2트윗 / 24시간 / 3600초 = 약 3500


- 최대 QPS (Peek QPS) = 2 x QPS = 약 7000
