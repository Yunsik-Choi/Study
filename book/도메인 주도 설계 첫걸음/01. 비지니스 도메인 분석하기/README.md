# 비즈니스 도메인 분석하기

## 비즈니스 도메인이란?

- 비즈니스 도메인은 기업의 주요 활동 영역을 정의한다. 일반적으로 말하면 회사가 고객에게 제공하는 서비스를 말한다.


- 기업은 여러 비즈니스 도메인을 운영할 수 있다. ex) amazon, aws


- 회사가 비즈니스 도메인을 자주 변경할 수도 있다.

## 하위 도메인이란?

- 하위 도메인은 비즈니스 활동의 세분화된 영역으로 기업은 비즈니스 도메인의 목표를 달성하기 위해 여러 가지 하위 도메인을 운영해야 한다.


- 모든 회사의 하위 도메인은 고객에게 제공하는 서비스 단위로 비즈니스 도메인을 만든다.


- 하위 도메인은 전체 시스템에서 하나의 구성요소로 각각의 하위 도메인은 비즈니스 도메인에서 목표를 달성하기 위해 서로 상호작용해야 한다.

### 하위 도메인의 유형

- 하위 도메인은 서로 다른 전략적 비즈니스 가치를 가진다.


- 도메인 주도 설계에서 하위 도메인은 핵심, 일반, 지원 세 가지 유형으로 구분한다.

**핵심 하위 도메인**

- 핵심 하위 도메인은 회사가 경쟁업체와 다르게 수행하고 있는 것을 말한다. 새로운 제품이나 서비스를 발명하거나 기존 프로세스를 최적화하여 비용을 줄이는 것이 그렇다.


- 핵심 하위 도메인은 자연스럽게 복잡해진다. 구현하기 쉬운 핵심 하위 도메인은 일시적인 경쟁 우위만을 제공할 수 있기 때문에 다른 경쟁사가 모방하거나 복제하지 어려워야 한다.


- 핵심 하위 도메인에 반드시 기술이 들어가야 하는 것은 아니다. 모든 비즈니스 문제가 알고리즘이나 기술 솔루션으로 해결되는 것은 아니다. 회사의 경쟁 우위는 다양한 원천에서 나온다.

**일반 하위 도메인**

- 일반 하위 도메인은 모든 회사가 같은 방식으로 수행하는 비즈니스 활동을 말한다. 핵심 하위 도메인과 마찬가지로 복잡하고 구현하기 어렵지만 회사의 경쟁력을 제공하지는 않는다. 이미 실무에서 검증된 솔루션으로 널리
  이용 가능하며 모든 회사에서 사용하고 있어서 더 이상 혁신이나 최적화가 필요 없다.

**지원 하위 도메인**

- 지원 하위 도메인은 회사의 비즈니스를 지원하는 활동을 말한다. 지원 하위 도메인은 어떠한 경쟁 우위도 제공하지 않는다. 지원 하위 도메인의 차별화되는 특징은 솔루션의 비즈니스 로직의 복잡성으로 CRUD 같은
  기능은 간단하므로 이러한 활동 영역이 회사에 어떠한 경쟁 우위도 제공하지 않으므로 높은 진입장벽이 필요하지 않다.

### 하위 도메인 비교

**경쟁 우위**

- 핵심 하위 도메인만이 회사에 경쟁 우위를 제공한다. 핵심 하위 도메인은 경쟁사와 차별화하기 위한 회사의 전략이다.


- 일반 하위 도메인은 경쟁 우위의 원천이 될 수 없다. 일반 하위 도메인은 일반적인 솔루션을 의미하며 경쟁사가 동일한 솔루션을 사용하기 때문에 우위를 제공할 수 없다.


- 지원 하위 도메인은 진입장벽이 낮고 경쟁 우위도 제공할 수 없다.


- 회사가 해결할 수 있는 문제가 복잡할수록 더 많은 비즈니스 가치를 제공할 수 있다.

**복잡성**

- 하위 도메인의 유형에 따라 복잡성의 수준이 다르기 때문에 조직의 하위 도메인을 식별하는 것이 중요하다. 소픝트웨어를 설계할 때 우리는 비즈니스 요구사항의 복잡성을 수용할 수 있는 도구와 기술을 선택해야 한다.
  따라서 소프트웨어를 설계하기 위해 하위 도메인을 식별하는 것은 반드시 필요하다.


- 핵심 하위 도메인과 지원 하위 도메인을 구별하는 것이 어려울 수 있다. 이때 복잡성은 도메인을 구별하는 유용한 지침이 된다. 하위 도메인의 비즈니스 로직의 복잡성을 평가하는 것이다.

<img src=".README_images/유형별 비즈니스 로직 차별화 및 비즈니스 로직 복잡성.png">

**변동성**

- 핵심 하위 도메인은 자주 변경될 수 있다. 한 번의 시도로 문제가 해결될 수 있다면 경쟁자들도 빠르게 따라잡을 수 있기 때문에 개선 작업을 끝 없이 해야 하고 경쟁사보다 앞서기 위해서 핵심 하위 도메인의 지속적인
  진화는 필수적이다.


- 핵심 하위 도메인과 달리 지원 하위 도메인은 자주 변경되지 않는다. 지원 하위 도메인은 어떠한 경쟁 우위도 제공하지 않기 때문에 지원 하위 도메인의 개선은 핵심 하위 도메인에 투자한 동일한 노력에 비해 아주 작은
  비즈니스 가치를 제공한다.


- 일반 하위 도메인은 시간이 지남에 따라 변경될 수 있다.

**솔루션 전략**

- 지원 하위 도메인과 일반 하위 도메인이 경쟁 우위를 제공하지 않는다고 해서 중요하지 않은 것은 아니다. 기업이 해당 비즈니스 도메인에서 일하려면 하위 도메인 모두가 필요하다. 하위 도메인은 기본적인 구성요소이므로
  하나를 제거하면 전체 구조가 무너질 수 있다.


- 하위 도메인 각각의 고유한 속성을 활용하면 서로 다른 유형의 하위 도메인을 구현하기 위한 가장 효율적인 전략을 선택할 수 있다.
    - 핵심 하위 도메인은 사내에서 구현되어야 한다.
        - 핵심 하위 도메인이 외부 솔루션이라면 경쟁업체들이 똑같이 할 수 있기 떄문이다.
        - 핵심 하위 도메인 구현을 하청하는 것도 위험하다. 핵심 하위 도메인 구현은 전략적인 투자이다. 핵심 하위 도메인과 관련하여 절차를 무시하고 대충 진행하는 것은 단기적으로 위험할 뿐만 아니라
          장기적으로 치명적인 결과를 초래할 수 있다.
        - 핵심 하위 도메인의 요구사항은 자주 지속적으로 변경될 것으로 예상되므로 솔루션은 유지보수가 가능하고 쉽게 개선될 수 있어야 한다. 따라서 핵심 하위 도메인은 가장 진보된 엔지니어링 기술로 구현해야
          한다.
    - 일반 하위 도메인은 어렵지만 이미 문제가 해결되었기 때문에 일반 하위 도메인을 사내에서 구현하는 데 시간과 노력을 투자하는 것보다 이미 만들어진 제품을 구입하거나 오픈소스 솔루션을 채택하는 것이 비용
      면에서 효율적이다.
    - 지원 하위 도메인은 경쟁 우위가 없기 때문에 사내에서 구현하지 않는 것이 합리적이다. 하지만 지원 하위 도메인은 기존에 만들어진 솔루션이 없는 경우가 있다. 이런 경우 기업에서 지원 하위 도메인을 자체
      구현할 수밖에 없다.

<img src=".README_images/세 가지 하위 도메인 유형의 차이점.png"/>

### 하위 도메인 경계 식별

- 하위 도메인과 해당 유형을 식별하면 소프트웨어 솔루션을 구축할 때 설계와 관련된 의사결정에 상당한 도움이 된다. 하위 도메인과 그 유형은 기업의 비즈니스 전략에 따라 정의되며 이는 동일한 분야에서 다른 회사와
  경쟁하기 위해 차별화하는 방법이다. 회사의 부서와 조직 단위로 나눌 수 있다. 하지만 이 정보가 소프트웨어 설계시 올바른 의사결정을 하기에 충분하지 않을 수 있다.

**하위 도메인 정제**

- 크게 나눈 하위 도메인은 좋은 출발점이지만 문제는 세부 사항에 있다. 비즈니스 기능의 복잡한 내용에 숨겨진 정보를 놓치지 않아야 한다.

- 고객 상담 업무 같은 경우 헬프 데스크와 전화 시스템은 일반 하위 도메인인 반면에 교대 근무 관리는 지원 하위 도메인이다. 또한 회사는 고객 상담을 라우팅하는 경우 독창적인 알고리즘을 개발할 수도 있다. 이럴
  경우 라우팅 알고리즘은 핵심 하위 도메인으로 볼 수 있다.

**응집된 유스케이스를 하위 도메인으로**

- 기술적인 관점에서 하위 도메인은 상호 연관되고 응집된 유스케이스 집합과 유사하다. 이러한 유스케이스 집합에서는 보통 동일한 행위자, 비즈니스 엔티티를 포함하고 모두 밀접하게 관련된 데이터의 집합을 다룬다.


- 세분화된 하위 도메인을 찾는 것을 중단하는 시점을 결정하는 지침으로 '응집된 유스케이스의 집합인 하위 도메인'이라는 정의를 사용할 수 있다. 이것은 하위 도메인의 가장 정확한 경계가 된다.

- 핵심 하위 도메인에는 반드시 하위 도메인의 경계를 식별하기 위한 노력이 필요하다. 핵심 하위 도메인은 가장 중요하고 변동성이 있고 복잡하기 때문에 가능한 많이 정제하는 것이 중요하다. 하지만 지원 및 일반 하위
  도메인의 경우에는 이러한 정제 작업을 다소 완화할 수 있다.

**핵심에 집중**

- 하위 도메인은 소프트웨어 설계 의사결정을 내리는 프로세스의 어려움을 쉽게 해결하도록 돕는 도구다. 모든 조직에는 경쟁 우위를 제공하지만 소프트웨어와는 아무 관련이 없는 비즈니스 기능이 꽤나 많다. 하위 도메인을
  찾을 때는 소프트웨어와 관련되지 않은 비즈니스 기능을 식별하고 그 자체로 인정하며 작업 중인 소프트웨어 시스템과 관련된 비즈니스에 집중하는 것이 중요하다.

## 도메인 전문가는 어떤 사람인가?

- 도메인 전문가는 우리가 모델링하고 코드로 구현할 비즈니스의 모든 복잡성을 알고 있는 주제 전문가다. 즉 도메인 전문가는 소프트웨어 비즈니스 도메인에 대한 권위자다. 일반적으로 도메인 전문가는 요구사항을 제시하는
  사람 또는 소프트웨어의 최종 사용자다. 소프트웨어는 그들의 문제를 해결해야 한다.


- 도메인 전문가는 비즈니스를 대표한다. 그들은 모든 비즈니스 지식의 근원이 되는 비즈니스 문제를 처음으로 파악한 사람들이다. 시스템 분석가와 엔지니어는 비즈니스 도메인의 멘탈 모델을 소프트웨어 요구사항과 소스코드로
  변환한다.

## 결론

이번 장에서는 기업의 비즈니스 활동을 이해하기 위한 도메인 주도 설계 도구를 다루었다. 앞서 살펴본 것처럼 비즈니스가 운영되는 영역과 고객에게 제공하는 서비스는 모두 비즈니스 도메인과 함께 시작한다. 또한 비즈니스
도메인에서 성공하고 기업이 경쟁업체와 차별화하는 데 필요한 다양한 구성요소에 대해서 배웠다.

- **핵심 하위 도메인**
    - 흥미로운 문제들 기업이 경쟁자로부터 차별화하고 경쟁 우위를 얻는 활동이다.


- **일반 하위 도메인**
    - 해결된 문제들. 이것은 모든 회사가 같은 방식으로 하고 있는 일이다. 여기에는 혁신이 필요하지 않다. 사내 솔루션을 개발하는 것보다 기존 솔루션을 사용하는 것이 더 비용 효과적이다.


- **지원 하위 도메인**
    - 분명한 해결책이 있는 문제들. 사내에서 구현해야 할 활동이지만 경쟁 우위를 제공하지는 않는다.

마지막으로 도메인 전문가가 비즈니스의 주제 전문가라는 것을 배웠다. 그들은 회사의 비즈니스 도메인 또는 하나 이상의 하위 도메인에 대해 심층적인 지식을 가지고 있으며 프로젝트 성공에 매우 중요한 역할을 한다.
